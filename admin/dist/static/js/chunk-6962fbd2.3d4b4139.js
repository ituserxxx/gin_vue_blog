(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6962fbd2"],{2423:function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"a",(function(){return l})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"g",(function(){return c})),a.d(e,"b",(function(){return u}));var n=a("b775");function i(t){return Object(n["a"])({url:"/article/list",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/article/add",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/article/detail",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/article/update",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/article/draft",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/article/publish",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/article/delete",method:"post",data:t})}},a721:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增文章")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"Id",prop:"id"}}),a("el-table-column",{attrs:{label:"标题",prop:"title"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"create_time"}}),a("el-table-column",{attrs:{label:"更新时间",prop:"update_time"}}),a("el-table-column",{attrs:{label:"状态",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v(" 已发布")]):t._e(),2===e.row.status?a("el-tag",{attrs:{type:"warning"}},[t._v(" 草稿 ")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),1==e.row.status?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleSaveDraft(e.$index,e.row)}}},[t._v("存草稿")]):t._e(),2==e.row.status?a("el-button",{attrs:{size:"medium",type:"success"},on:{click:function(a){return t.handlePublishArticle(e.$index,e.row)}}},[t._v("发布")]):t._e(),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])}),a("el-table-column",{attrs:{prop:"attach",label:"附件管理",width:"180"}},[[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传"),a("i",{staticClass:"el-icon-upload el-icon--right"})])]],2)],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/","file-list":t.attachList}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentPageChange}})],1)},i=[],l=a("2423"),s={data:function(){return{tableData:[],dialogVisible:!1,attachList:[],total:100,search:""}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(l["f"])({page:this.page}).then((function(e){t.tableData=e.data,t.listLoading=!1}))},handleCurrentPageChange:function(t){var e=this;Object(l["f"])({page:t}).then((function(t){e.tableData=t.data,e.listLoading=!1}))},handleEdit:function(t,e){this.$router.push({path:"/article/edit",query:{id:e.id}})},handleAdd:function(){this.$router.push({path:"/article/add"})},handleSaveDraft:function(t,e){var a=this,n={id:e.id};Object(l["d"])(n).then((function(t){a.$message({type:"success",message:t.msg?t.msg:"成功"}),a.fetchData()}))},handlePublishArticle:function(t,e){var a=this,n={id:e.id};Object(l["g"])(n).then((function(t){a.$message({type:"success",message:t.msg?t.msg:"成功"}),a.fetchData()}))},handleDelete:function(t,e){var a=this,n={article_id:e.id};Object(l["b"])(n).then((function(t){a.$message({type:"success",message:t.msg?t.msg:"成功"}),a.fetchData()}))}}},r=s,o=a("2877"),c=Object(o["a"])(r,n,i,!1,null,null,null);e["default"]=c.exports}}]);