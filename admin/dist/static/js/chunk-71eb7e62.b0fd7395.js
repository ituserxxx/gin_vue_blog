(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71eb7e62"],{2423:function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"e",(function(){return s})),a.d(e,"d",(function(){return u})),a.d(e,"g",(function(){return c})),a.d(e,"b",(function(){return l}));var n=a("b775");function r(t){return Object(n["a"])({url:"/article/list",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/article/add",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/article/detail",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/article/update",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/article/draft",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/article/publish",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/article/delete",method:"post",data:t})}},"2f3b":function(t,e,a){"use strict";a("a332")},a332:function(t,e,a){},d28d:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return s}));var n=a("b775");function r(t){return Object(n["a"])({url:"/tag/list",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/tag/update",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/tag/add",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/tag/del",method:"post",data:t})}},fdc6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"选择标签"}},[a("el-checkbox-group",{model:{value:t.form.tag_list,callback:function(e){t.$set(t.form,"tag_list",e)},expression:"form.tag_list"}},t._l(t.init_tag_list,(function(e,n){return a("el-checkbox",{key:n,attrs:{label:e.id,name:"tag"}},[a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.tag_name))])],1)})),1)],1),a("el-form-item",{attrs:{label:"内容"}},[a("mavon-editor",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.isLoading},on:{click:t.publish}},[t._v("提交")]),a("el-button",{attrs:{type:"warning",loading:t.save_draft_isLoading},on:{click:t.save_draft}},[t._v("存草稿")])],1)],1)],1)},r=[],i=a("2423"),o=a("d28d"),s={data:function(){return{init_tag_list:[],isLoading:!1,save_draft_isLoading:!1,form:{status:2,title:"",tag_list:[],desc:"",content:""},rules:{title:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 20 个字符",trigger:"blur"}],tag_list:[{type:"array",required:!0,message:"请至少选择一个标签",trigger:"change"}]}}},created:function(){this.initTagList()},methods:{initTagList:function(){var t=this;Object(o["d"])({page:-1}).then((function(e){t.init_tag_list=e.data}))},publish:function(){this.form.status=1,this.submit()},save_draft:function(){this.save_draft_isLoading=!0,this.form.status=2,this.submit()},submit:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;t.isLoading=!0,Object(i["a"])(t.form).then((function(e){t.tableData=e.data.id,t.isLoading=!1,t.save_draft_isLoading=!1,""===e.msg?(t.$message({showClose:!0,message:"操作成功",type:"success"}),t.$router.go(0)):t.$message({showClose:!0,message:e.msg,type:"warning"})}))}))}}},u=s,c=(a("2f3b"),a("2877")),l=Object(c["a"])(u,n,r,!1,null,"84569df6",null);e["default"]=l.exports}}]);